(function(e){function t(t){for(var i,l,a=t[0],r=t[1],c=t[2],d=0,f=[];d<a.length;d++)l=a[d],Object.prototype.hasOwnProperty.call(s,l)&&s[l]&&f.push(s[l][0]),s[l]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);u&&u(t);while(f.length)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,a=1;a<n.length;a++){var r=n[a];0!==s[r]&&(i=!1)}i&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var i={},s={app:0},o=[];function l(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=i,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(n,i,function(t){return e[t]}.bind(null,i));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],r=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var u=r;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var i=n("85ec"),s=n.n(i);s.a},"3aff":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}})],1),n("router-view")],1)},o=[],l=(n("034f"),n("2877")),a={},r=Object(l["a"])(a,s,o,!1,null,null,null),c=r.exports,u=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrap"},[n("LineControl",{attrs:{lineRules:e.lineRules},on:{"updata-lineRules":function(t){return e.updataLinerules(t)}}}),n("el-container",{staticStyle:{height:"700px",border:"1px solid #eee"}},[n("el-container",[n("el-aside",{staticStyle:{height:"700px",border:"1px solid #000"},attrs:{width:"230px"}},[n("List",{attrs:{list:e.list},on:{"get-node-info":function(t){return e.setNodeInfo(t)},"create-node":function(t){return e.createNode(t)}}})],1),n("el-main",{staticStyle:{height:"700px",border:"1px solid #000",padding:"0",margin:"0 20px"}},[n("Content",{attrs:{draw:e.draw,info:e.info},on:{"get-node-info":function(t){return e.setNodeInfo(t)},"remove-node":function(t){return e.removeNode(t)},"line-node":function(t){return e.setLine(t)}}})],1),n("el-aside",{staticStyle:{height:"700px",border:"1px solid #000"}},[n("Info",{attrs:{info:e.info,saveFlag:e.saveFlag},on:{"save-node-info":function(t){return e.saveNodeInfo(t)}}})],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:24}},[n("el-button",{staticStyle:{width:"100%",height:"50px","margin-top":"30px","font-size":"20px"},attrs:{type:"warning"},on:{click:e.clearDraw}},[e._v("清空画布")])],1)],1),n("el-row",[n("el-col",{attrs:{span:24}},[n("el-button",{staticStyle:{width:"100%",height:"50px","margin-top":"10px","font-size":"20px"},attrs:{type:"success"},on:{click:e.saveDraw}},[e._v("保存画布")])],1)],1)],1)},f=[],p=(n("4de4"),n("d81d"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("5530")),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-menu",{staticClass:"el-menu-vertical-demo"},e._l(e.list,(function(t){return n("el-submenu",{key:t.id,attrs:{index:t.id.toString()}},[n("template",{slot:"title"},[n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:t.id.toString()+"-1"},on:{click:function(n){return e.$emit("create-node",t)}}},[n("i",{staticClass:"el-icon-time"}),e._v("创建节点")]),n("el-menu-item",{attrs:{index:t.id.toString()+"-2"},on:{click:function(n){return e.$emit("get-node-info",Object.assign({},t,{updata:!0}))}}},[n("i",{staticClass:"el-icon-odometer"}),e._v("数据更新")])],1)],2)})),1)},m=[],b={name:"List",props:["list"],data:function(){return{info:JSON}}},g=b,v=(n("cec7"),Object(l["a"])(g,h,m,!1,null,"a0c800a6",null)),y=v.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.draw.begin,(function(t){return n("DrawBeginNode",{key:t.id+"begin",attrs:{item:t},on:{"get-node-info":function(t){return e.$emit("get-node-info",t)},"remove-node":function(n){return e.$emit("remove-node",{type:"begin",delItem:t})},"line-node":function(n){return e.$emit("line-node",t)}}})})),e._l(e.draw.text,(function(t){return n("DrawTextNode",{key:t.id+"text",attrs:{item:t},on:{"get-node-info":function(t){return e.$emit("get-node-info",t)},"remove-node":function(n){return e.$emit("remove-node",{type:"text",delItem:t})},"line-node":function(n){return e.$emit("line-node",t)}}})})),e._l(e.draw.circle,(function(t){return n("DrawCircleNode",{key:t.id+"circle",attrs:{item:t},on:{"get-node-info":function(t){return e.$emit("get-node-info",t)},"remove-node":function(n){return e.$emit("remove-node",{type:"circle",delItem:t})},"line-node":function(n){return e.$emit("line-node",t)}}})})),n("Canvas",{attrs:{lines:e.draw.lines}})],2)},w=[],X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"draw-begin-node",attrs:{draggable:"true"},on:{dragstart:function(t){return e.start(e.item,t)},dragend:function(t){t.stopPropagation(),e.$emit("get-node-info",e.end(e.item,t))},drag:function(t){e.$emit("get-node-info",e.setInfo(e.item,t))},click:function(t){e.$emit("get-node-info",e.setBaseInfo(e.item,t))}}},[n("el-card",{staticClass:"box-card node-begin node",style:e.item.style},[n("el-tag",{attrs:{closable:""},on:{close:function(t){return e.$emit("remove-node",e.item)}}},[n("i",{staticClass:"node-icon",class:e.item.icon}),n("span",[e._v(e._s(e.item.name))]),n("el-button",{staticClass:"line-btn",attrs:{type:"success",circle:"",size:"mini"},on:{click:function(t){return e.$emit("line-node",e.item)}}})],1)],1)],1)},Y=[],$={name:"DrawBeginNode",props:["item"],data:function(){return{baseX:"",baseY:"",beginX:"",beginY:"",moveX:"",moveY:"",endX:"",endY:"",itemBaseX:"",itemBaseY:"",flag:!0}},methods:{start:function(e,t){this.beginX=t.screenX,this.beginY=t.screenY,this.flag&&(this.baseX=t.screenX,this.baseY=t.screenY,this.itemBaseX=e.left,this.itemBaseY=e.top,this.flag=!1)},move:function(e,t){this.moveX=t.screenX-this.beginX,this.moveY=t.screenY-this.beginY,this.endX=t.screenX-this.baseX,this.endY=t.screenY-this.baseY,this.start(e,t)},end:function(e,t){var n=parseInt(t.screenX)-parseInt(this.baseX),i=parseInt(t.screenY)-parseInt(this.baseY);return e.left=parseInt(this.itemBaseX)+n,e.top=parseInt(this.itemBaseY)+i,e.style.left=e.left+"px",e.style.top=e.top+"px",e},setInfo:function(e,t){return this.move(e,t),e.left=parseInt(e.left)+parseInt(this.moveX),e.top=parseInt(e.top)+parseInt(this.moveY),e.style.left=e.left+"px",e.style.top=e.top+"px",e},setBaseInfo:function(e,t){return e}}},I=$,N=Object(l["a"])(I,X,Y,!1,null,"df1206f0",null),R=N.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"draw-text-node",attrs:{draggable:"true"},on:{dragstart:function(t){return e.start(e.item,t)},dragend:function(t){t.stopPropagation(),e.$emit("get-node-info",e.end(e.item,t))},drag:function(t){e.$emit("get-node-info",e.setInfo(e.item,t))},click:function(t){e.$emit("get-node-info",e.setBaseInfo(e.item,t))}}},[n("el-card",{staticClass:"box-card node-text node",style:e.item.style,attrs:{draggable:"true"}},[n("el-tag",{attrs:{closable:"",type:"info"},on:{close:function(t){return e.$emit("remove-node",e.item)}}},[n("i",{staticClass:"node-icon",class:e.item.icon}),n("span",[e._v(e._s(e.item.name))]),n("el-button",{staticClass:"line-btn",attrs:{type:"success",circle:"",size:"mini"},on:{click:function(t){return e.$emit("line-node",e.item)}}})],1)],1)],1)},k=[],B={name:"DrawTextNode",props:["item"],data:function(){return{baseX:"",baseY:"",beginX:"",beginY:"",moveX:"",moveY:"",endX:"",endY:"",itemBaseX:"",itemBaseY:"",flag:!0}},methods:{start:function(e,t){this.beginX=t.screenX,this.beginY=t.screenY,this.flag&&(this.baseX=t.screenX,this.baseY=t.screenY,this.itemBaseX=e.left,this.itemBaseY=e.top,this.flag=!1)},move:function(e,t){this.moveX=t.screenX-this.beginX,this.moveY=t.screenY-this.beginY,this.endX=t.screenX-this.baseX,this.endY=t.screenY-this.baseY,this.start(e,t)},end:function(e,t){var n=parseInt(t.screenX)-parseInt(this.baseX),i=parseInt(t.screenY)-parseInt(this.baseY);return e.left=parseInt(this.itemBaseX)+n,e.top=parseInt(this.itemBaseY)+i,e.style.left=e.left+"px",e.style.top=e.top+"px",e},setInfo:function(e,t){return this.move(e,t),e.left=parseInt(e.left)+parseInt(this.moveX),e.top=parseInt(e.top)+parseInt(this.moveY),e.style.left=e.left+"px",e.style.top=e.top+"px",e},setBaseInfo:function(e,t){return e}}},O=B,C=Object(l["a"])(O,_,k,!1,null,"086f8dc1",null),S=C.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"draw-circle-node",attrs:{draggable:"true"},on:{dragstart:function(t){return e.start(e.item,t)},dragend:function(t){t.stopPropagation(),e.$emit("get-node-info",e.end(e.item,t))},drag:function(t){e.$emit("get-node-info",e.setInfo(e.item,t))},click:function(t){e.$emit("get-node-info",e.setBaseInfo(e.item,t))}}},[n("el-card",{staticClass:"box-card node-circle node",style:e.item.style},[n("el-tag",{attrs:{closable:"",type:"warning"},on:{close:function(t){return e.$emit("remove-node",e.item)}}},[n("span",[e._v(e._s(e.item.name))]),n("el-button",{staticClass:"line-btn line-btn-circle",attrs:{type:"success",circle:"",size:"mini"},on:{click:function(t){return e.$emit("line-node",e.item)}}})],1)],1)],1)},L=[],M={name:"DrawCircleNode",props:["item"],data:function(){return{baseX:"",baseY:"",beginX:"",beginY:"",moveX:"",moveY:"",endX:"",endY:"",itemBaseX:"",itemBaseY:"",flag:!0}},methods:{start:function(e,t){this.beginX=t.screenX,this.beginY=t.screenY,this.flag&&(this.baseX=t.screenX,this.baseY=t.screenY,this.itemBaseX=e.left,this.itemBaseY=e.top,this.flag=!1)},move:function(e,t){this.moveX=t.screenX-this.beginX,this.moveY=t.screenY-this.beginY,this.endX=t.screenX-this.baseX,this.endY=t.screenY-this.baseY,this.start(e,t)},end:function(e,t){var n=parseInt(t.screenX)-parseInt(this.baseX),i=parseInt(t.screenY)-parseInt(this.baseY);return e.left=parseInt(this.itemBaseX)+n,e.top=parseInt(this.itemBaseY)+i,e.style.left=e.left+"px",e.style.top=e.top+"px",e},setInfo:function(e,t){return this.move(e,t),e.left=parseInt(e.left)+parseInt(this.moveX),e.top=parseInt(e.top)+parseInt(this.moveY),e.style.left=e.left+"px",e.style.top=e.top+"px",e},setBaseInfo:function(e,t){return e}}},P=M,D=Object(l["a"])(P,j,L,!1,null,"08532ce6",null),T=D.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("canvas",{attrs:{id:"canvas",width:"2000",height:"700"}})},E=[],J=(n("4160"),n("159b"),{name:"Canvas",props:["lines"],data:function(){return{context:{}}},methods:{initDraw:function(){var e=document.getElementById("canvas");this.context=e.getContext("2d")},drawArrow:function(e){var t="undefined"!==typeof e.ctx?e.ctx:this.context,n=e.fromX,i=e.fromY,s=e.toX,o=e.toY,l="undefined"!==typeof e.controlX?e.controlX:e.fromX,a="undefined"!==typeof e.controlY?e.controlY:e.fromY,r="undefined"!==typeof e.theta?e.theta:30,c="undefined"!==typeof e.headlen?e.headlen:10,u="undefined"!==typeof e.width?e.width:1,d="undefined"!==typeof e.color?e.color:"#000",f=180*Math.atan2(i-o,n-s)/Math.PI,p="undefined"!==typeof e.type?e.type:"line";"curve"===p?f=180*Math.atan2(a-o,l-s)/Math.PI:"broken"===p&&(f=180*Math.atan2(o-o,n-s)/Math.PI);var h=(f+r)*Math.PI/180,m=(f-r)*Math.PI/180,b=c*Math.cos(h),g=c*Math.sin(h),v=c*Math.cos(m),y=c*Math.sin(m);t.save(),t.beginPath();var x=n-b,w=i-g;"line"===p?(t.moveTo(x,w),t.moveTo(n,i),t.lineTo(s,o)):"broken"===p?(t.moveTo(n,i),t.lineTo(n,o),t.lineTo(s,o)):"curve"===p&&(t.moveTo(n,i),t.quadraticCurveTo(l,a,s,o)),x=s+b,w=o+g,t.moveTo(x,w),t.lineTo(s,o),x=s+v,w=o+y,t.lineTo(x,w),t.strokeStyle=d,t.lineWidth=u,t.stroke(),t.restore()}},watch:{lines:function(){var e=this;this.context.clearRect(0,0,2e3,700),this.lines.forEach((function(t){e.drawArrow(t)}))}},mounted:function(){this.initDraw()}}),A=J,z=Object(l["a"])(A,F,E,!1,null,"2014a700",null),U=z.exports,q={name:"List",components:{DrawBeginNode:R,DrawTextNode:S,DrawCircleNode:T,Canvas:U},props:["draw"],data:function(){return{info:JSON}},methods:{showInfo:function(e){this.info=e}}},W=q,G=Object(l["a"])(W,x,w,!1,null,"b7e7b6f4",null),H=G.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("编辑")])]),n("el-main",[n("el-form",{ref:"form",attrs:{"label-width":"40px"}},[n("el-form-item",{attrs:{label:"类型"}},[n("el-input",{attrs:{disabled:""},model:{value:e.info.type,callback:function(t){e.$set(e.info,"type",t)},expression:"info.type"}})],1),n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{model:{value:e.info.name,callback:function(t){e.$set(e.info,"name",t)},expression:"info.name"}})],1),n("el-form-item",{attrs:{label:"left"}},[n("el-input",{model:{value:e.info.left,callback:function(t){e.$set(e.info,"left",t)},expression:"info.left"}})],1),n("el-form-item",{attrs:{label:"top"}},[n("el-input",{model:{value:e.info.top,callback:function(t){e.$set(e.info,"top",t)},expression:"info.top"}})],1),n("el-form-item",{attrs:{label:"图标"}},[n("el-input",{model:{value:e.info.icon,callback:function(t){e.$set(e.info,"icon",t)},expression:"info.icon"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",disabled:e.saveFlag},on:{click:function(t){return e.$emit("save-node-info",e.info)}}},[e._v("保存")]),n("el-button",{attrs:{disabled:e.saveFlag}},[e._v("重置")])],1)],1)],1)],1)},Q=[],V={name:"List",props:["info","saveFlag"]},Z=V,ee=Object(l["a"])(Z,K,Q,!1,null,"6b0c18e1",null),te=ee.exports,ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",{staticStyle:{margin:"15px 0"}},[n("el-col",{attrs:{span:2}},[n("el-alert",{attrs:{title:"线条信息",type:"success",closable:!1,center:""}})],1),n("el-col",{attrs:{span:4}},[n("el-select",{model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},e._l(e.options,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-col",{attrs:{span:2}},[n("el-alert",{attrs:{title:"线条宽度",type:"success",closable:!1,center:""}})],1),n("el-col",{attrs:{span:4}},[n("el-input-number",{attrs:{step:1},model:{value:e.lineRules.width,callback:function(t){e.$set(e.lineRules,"width",t)},expression:"lineRules.width"}})],1),n("el-col",{attrs:{span:2}},[n("el-alert",{attrs:{title:"线条颜色",type:"success",closable:!1,center:""}})],1),n("el-col",{attrs:{span:1}},[n("el-color-picker",{model:{value:e.lineRules.color,callback:function(t){e.$set(e.lineRules,"color",t)},expression:"lineRules.color"}})],1),n("el-col",{attrs:{span:2}},[n("el-alert",{attrs:{title:"箭头角度",type:"warning",closable:!1,center:""}})],1),n("el-col",{attrs:{span:4}},[n("el-input-number",{attrs:{step:10},model:{value:e.lineRules.theta,callback:function(t){e.$set(e.lineRules,"theta",t)},expression:"lineRules.theta"}})],1)],1),n("el-row",{staticStyle:{margin:"15px 0"}},[n("el-col",{attrs:{span:2}},[n("el-alert",{attrs:{title:"曲线控制点X",type:"success",closable:!1,center:""}})],1),n("el-col",{attrs:{span:4}},[n("el-input-number",{attrs:{step:10},model:{value:e.lineRules.controlX,callback:function(t){e.$set(e.lineRules,"controlX",t)},expression:"lineRules.controlX"}})],1),n("el-col",{attrs:{span:2}},[n("el-alert",{attrs:{title:"曲线控制点Y",type:"success",closable:!1,center:""}})],1),n("el-col",{attrs:{span:4}},[n("el-input-number",{attrs:{step:10},model:{value:e.lineRules.controlY,callback:function(t){e.$set(e.lineRules,"controlY",t)},expression:"lineRules.controlY"}})],1),n("el-col",{attrs:{span:2}},[n("el-alert",{attrs:{title:"箭头大小",type:"warning",closable:!1,center:""}})],1),n("el-col",{attrs:{span:4}},[n("el-input-number",{attrs:{step:10},model:{value:e.lineRules.headlen,callback:function(t){e.$set(e.lineRules,"headlen",t)},expression:"lineRules.headlen"}})],1)],1)],1)},ie=[],se=(n("a9e3"),{name:"LineControl",props:["lineRules"],data:function(){return{options:[{value:"line",label:"直线箭头"},{value:"curve",label:"曲线箭头"},{value:"broken",label:"折线箭头"}],type:String,color:String,width:Number,theta:Number,headlen:Number,controlX:Number,controlY:Number}},watch:{type:function(){this.lineRules.type=this.type,this.$emit("updata-lineRules",this.lineRules)},color:function(){this.lineRules.color=this.color,this.$emit("updata-lineRules",this.lineRules)},width:function(){this.lineRules.width=this.width,this.$emit("updata-lineRules",this.lineRules)},theta:function(){this.lineRules.theta=this.theta,this.$emit("updata-lineRules",this.lineRules)},headlen:function(){this.lineRules.headlen=this.headlen,this.$emit("updata-lineRules",this.lineRules)},controlX:function(){this.lineRules.controlX=this.controlX,this.$emit("updata-lineRules",this.lineRules)},controlY:function(){this.lineRules.controlY=this.controlY,this.$emit("updata-lineRules",this.lineRules)}},methods:{init:function(){this.type=this.lineRules.type,this.color=this.lineRules.color,this.width=this.lineRules.width,this.theta=this.lineRules.theta,this.headlen=this.lineRules.headlen,this.controlX=this.lineRules.controlX,this.controlY=this.lineRules.controlY}},mounted:function(){this.init()}}),oe=se,le=Object(l["a"])(oe,ne,ie,!1,null,"09230b3e",null),ae=le.exports,re={name:"Main",components:{List:y,Content:H,Info:te,LineControl:ae},data:function(){return{list:Array,draw:{text:Array,begin:Array,circle:Array,lines:Array},lineRules:{type:"broken",theta:30,width:1,headlen:10,color:"#225618",controlX:150,controlY:550},info:JSON,beginNum:"",textNum:"",circleNum:"",saveFlag:!0,lineFlag:!1,lineBeginNode:JSON}},methods:{getList:function(){var e=this;this.$axios.get("component").then((function(t){e.list=t.data.data}))},getDraw:function(){var e=this;this.$axios.get("draw").then((function(t){var n=JSON.parse(t.data.content);e.draw=n,e.beginNum=0===n.begin.length?0:n.begin[n.begin.length-1].id,e.textNum=0===n.text.length?0:n.text[n.text.length-1].id,e.circleNum=0===n.circle.length?0:n.circle[n.circle.length-1].id}))},clearDraw:function(){this.draw={text:[],begin:[],circle:[],lines:[]}},saveDraw:function(){var e=this,t=new URLSearchParams,n=JSON.stringify(this.draw);t.append("content",n),this.$axios.post("draw/save",t).then((function(t){1===t.data.code?e.$message({message:"画布保存成功",type:"success"}):e.$message.error("画布保存失败")}))},setNodeInfo:function(e){this.info=e,this.draw.lines=this.draw.lines.map((function(t){return t.beginNode.id===e.id&&t.beginNode.type===e.type?(t.fromX="circle"===e.type?e.left+75:e.left+100,t.fromY="circle"===e.type?e.top+75:e.top+25):t.endNode.id===e.id&&t.endNode.type===e.type&&(t.toX=e.left,t.toY=e.top),t})),e.updata?this.saveFlag=!1:this.saveFlag=!0},saveNodeInfo:function(e){var t=this,n=new URLSearchParams;e=JSON.stringify(e),n.append("component",e),this.$axios.post("component/updata",n).then((function(e){1===e.data.code?t.$message({message:"节点更新成功",type:"success"}):t.$message.error("节点更新失败")})).then((function(){t.getList()}))},removeNode:function(e){var t=e.type;"text"===t?this.draw.text=this.draw.text.filter((function(t){return t!==e.delItem})):"begin"===t?this.draw.begin=this.draw.begin.filter((function(t){return t!==e.delItem})):"circle"===t&&(this.draw.circle=this.draw.circle.filter((function(t){return t!==e.delItem}))),this.draw.lines=this.draw.lines.filter((function(t){return!(t.beginNode.id===e.delItem.id&&t.beginNode.type===e.delItem.type)&&!(t.endNode.id===e.delItem.id&&t.endNode.type===e.delItem.type)})),this.$message({message:"节点删除成功",type:"success"})},createNode:function(e){this.saveFlag=!0,e=Object(p["a"])(Object(p["a"])({},e),{},{style:{left:"",top:""}}),e.style.left=e.left+"px",e.style.top=e.top+"px","text"===e.type?(e.id=++this.textNum,this.draw.text.push(e)):"begin"===e.type?(e.id=++this.beginNum,this.draw.begin.push(e)):"circle"===e.type&&(e.id=++this.circleNum,this.draw.circle.push(e)),this.$message({message:"节点创建成功",type:"success"})},setLine:function(e){if(this.lineFlag&&e!==this.lineBeginNode){var t=Object(p["a"])({beginNode:this.lineBeginNode,endNode:e,fromX:"circle"===this.lineBeginNode.type?this.lineBeginNode.left+75:this.lineBeginNode.left+100,fromY:"circle"===this.lineBeginNode.type?this.lineBeginNode.top+75:this.lineBeginNode.top+25,toX:e.left,toY:"circle"===e.type?e.top+75:e.top+25},this.lineRules);this.draw.lines.push(t),console.log(t),this.lineFlag=!1}else this.lineBeginNode=e,this.lineFlag=!0},updataLinerules:function(e){}},mounted:function(){this.getDraw(),this.getList()}},ce=re,ue=Object(l["a"])(ce,d,f,!1,null,null,null),de=ue.exports;i["default"].use(u["a"]);var fe=[{path:"/",name:"Main",component:de}],pe=new u["a"]({routes:fe}),he=pe,me=n("2f62");i["default"].use(me["a"]);var be=new me["a"].Store({state:{},mutations:{},actions:{},modules:{}}),ge=n("5c96"),ve=n.n(ge),ye=(n("0fae"),n("bc3a")),xe=n.n(ye);n("3aff");xe.a.defaults.baseURL="http://121.36.20.234:3000/",i["default"].prototype.$axios=xe.a,i["default"].use(ve.a),document.title="draw",i["default"].config.productionTip=!1,new i["default"]({router:he,store:be,render:function(e){return e(c)}}).$mount("#app")},"85ec":function(e,t,n){},"925e":function(e,t,n){},cec7:function(e,t,n){"use strict";var i=n("925e"),s=n.n(i);s.a}});
//# sourceMappingURL=app.633316a2.js.map